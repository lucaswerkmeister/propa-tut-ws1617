\documentclass{beamer}
\usepackage{tut}

\def\tuttitle{List-Comprehensions}
\date{2016-11-07/08}

\begin{document}
\normalsize
\normalem

\begin{frame}[plain]
  \titlepage
\end{frame}

\begin{frame}[fragile]
  \frametitle{Aufgabe 1: Bindung und Gültigkeitsbereiche}
  \emph{Bindung} ist der Vorgang, einen \emph{Bezeichner} (\emph{Identifier}, Name) an eine Bedeutung zu binden.
  In \lstinline{f x = 1} wird \lstinline{x} an die Bedeutung „erster Parameter von \lstinline{f}“ gebunden.
  \lstinline{x} ist hier eine Bindungsstelle und \lstinline{f} eine Definitionsstelle.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Aufgabe 1: Bindung und Gültigkeitsbereiche}
  \begin{lstlisting}
    f y = \z -> x + 7 * z - y
    x = 1
    g x = x + (let y = x * 2; x = 5 * 5
               in (let x = f x 2 in x + y))
    h = let z = 2 in g x + (\z -> -z) z where z = 3
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{\lstinline{add}}
  \begin{lstlisting}
    type Polynom = [Double]
  \end{lstlisting}
  Polynom $1 + 2 x + 3 x^2$ wird als Liste \lstinline{[1,2,3]} dargestellt.
  Definiere Polynomaddition \lstinline{add :: Polynom -> Polynom -> Polynom}.
  \pause
  \begin{lstlisting}
    add a [] = a
    add [] b = b
    add (a:as) (b:bs) = a + b : add as bs
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{\texttt{add}}
  Lösung mit Listenkombinatoren:
  \begin{lstlisting}
    add = zipWith (+)
  \end{lstlisting}
  \pause
  Leider \textbf{inkorrekt!} Funktioniert nicht für unterschiedlich lange Listen:
  \begin{lstlisting}
    add [1,2] [1] = [2]
    -- sollte aber sein:
                    [2,2]
  \end{lstlisting}
  denn \lstinline{zipWith} schneidet am Ende der kürzeren Liste ab,
  wir müssen aber den Rest der längeren Liste anhängen (gewissermaßen noch \lstinline{[0,0..]} addieren).
\end{frame}

\begin{frame}[fragile]
  \frametitle{\lstinline{eval}}
  Auswertung des Polynoms an Stelle $x$ durch Horner-Schema:
  \[\texttt{eval [1,2,3] x }= 1 + x\cdot(2 + x\cdot(3 + x\cdot0))\]
  Welche Fold-Version bietet sich hier an?
  \pause
  \begin{lstlisting}
    eval p x = foldr (\a acc -> a + x * acc) 0 p
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{\lstinline{deriv}}
  Ableitung des Polynoms. Welcher Listenkombinator bietet sich an?
  \pause
  \begin{lstlisting}
    deriv [] = []
    deriv (_:p) = zipWith (*) p [1..]
  \end{lstlisting}
  Oder:
  \begin{lstlisting}
    deriv p = drop 1 $ zipWith (*) [0..] p
  \end{lstlisting}
  Oder:
  \begin{lstlisting}
    deriv = drop 1 . zipWith (*) [0..]
  \end{lstlisting}
  (Verwende \lstinline{drop 1}, weil \lstinline{tail []} einen Fehler ergibt, \lstinline{drop 1 []} hingegen nicht.)
\end{frame}

\end{document}
